SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS "SA" SALT '3f27e40f9e14468a' HASH '9e4cae189afa90b7ec585bf1e6518462c52df7a4067165ca72ea64f8957568ff' ADMIN;         
CREATE SEQUENCE "PUBLIC"."HIBERNATE_SEQUENCE" START WITH 1;   
CREATE MEMORY TABLE "PUBLIC"."MOVIES"(
    "ID" BIGINT NOT NULL,
    "COLOR" TINYINT,
    "LENGTH" TIME,
    "TITLE" VARCHAR(255),
    "YEAR" INTEGER,
    "STUDIO" BIGINT
);          
ALTER TABLE "PUBLIC"."MOVIES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.MOVIES;  
CREATE MEMORY TABLE "PUBLIC"."STARS"(
    "ID" BIGINT NOT NULL,
    "ADDRESS" VARCHAR(70),
    "BIRTH_DATE" DATE,
    "GENDER" CHAR(255),
    "NAME" VARCHAR(50) NOT NULL
);            
ALTER TABLE "PUBLIC"."STARS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");        
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.STARS;   
INSERT INTO "PUBLIC"."STARS" VALUES
(1, 'adr1', DATE '1967-10-02', 'M', 'Roller'),
(2, 'adr2', DATE '1977-11-12', 'F', 'Lisa');             
CREATE MEMORY TABLE "PUBLIC"."STARS_IN"(
    "MOVIE" BIGINT NOT NULL,
    "STAR" BIGINT NOT NULL
);        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.STARS_IN;
CREATE MEMORY TABLE "PUBLIC"."STUDIOS"(
    "ID" BIGINT NOT NULL,
    "ADDRESS" VARCHAR(70),
    "NAME" VARCHAR(50) NOT NULL
);           
ALTER TABLE "PUBLIC"."STUDIOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.STUDIOS; 
ALTER TABLE "PUBLIC"."STARS" ADD CONSTRAINT "PUBLIC"."UK_EPB49SF8A41EBA9QBA3NHJOF5" UNIQUE("NAME");           
ALTER TABLE "PUBLIC"."STUDIOS" ADD CONSTRAINT "PUBLIC"."UK_JSY8U97X8J8SW58Y75FATFI72" UNIQUE("NAME");         
ALTER TABLE "PUBLIC"."STARS_IN" ADD CONSTRAINT "PUBLIC"."FK554MM0EUI7N58MFGW97HG4826" FOREIGN KEY("MOVIE") REFERENCES "PUBLIC"."MOVIES"("ID") NOCHECK;        
ALTER TABLE "PUBLIC"."MOVIES" ADD CONSTRAINT "PUBLIC"."FKB6DC6DVB6S3YRM77OY0473J9K" FOREIGN KEY("STUDIO") REFERENCES "PUBLIC"."STUDIOS"("ID") NOCHECK;        
ALTER TABLE "PUBLIC"."STARS_IN" ADD CONSTRAINT "PUBLIC"."FKOO9J0V80KDPSJRM0UJQTF14NE" FOREIGN KEY("STAR") REFERENCES "PUBLIC"."STARS"("ID") NOCHECK;          
